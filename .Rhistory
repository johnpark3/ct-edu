source("../_utils/geographies.R")
source("../_utils/edsight_functions.R")
source("../_utils/edsight_functions.R")
source("../_utils/edsight_functions.R")
source("../_utils/edsight_functions.R")
source("../_utils/geographies.R")
source("../_utils/edsight_functions.R")
source("../_utils/edsight_functions.R")
here
here("../_utils/regional_school_dists.tsv")
source("../_utils/edsight_functions.R")
source("../_utils/geographies.R")
source("../_utils/edsight_functions.R")
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";")
regional_dists
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .))
regional_dists
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
imap_dfr(~tibble(region = .y, town = .x)) %>%
filter(region %in% main_regions)
source("../_utils/geographies.R")
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
# regional_dists <- read_delim("../../../_utils/regional_school_dists.tsv", delim = ";") %>%
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
imap_dfr(~tibble(region = .y, town = .x)) %>%
filter(region %in% main_regions)
source("../_utils/geographies.R")
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
# regional_dists <- read_delim("../../../_utils/regional_school_dists.tsv", delim = ";") %>%
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
imap_dfr(~tibble(region = .y, town = .x)) %>%
filter(region %in% main_regions)
cwi::regions
region_df <- cwi::regions %>%
imap_dfr(~tibble(region = .y, town = .x)) %>%
filter(region %in% main_regions)
main_regions
cwi::regions %>%
imap_dfr(~tibble(region = .y, town = .x))
region %in% main_regions
# regional_dists <- read_delim("../../../_utils/regional_school_dists.tsv", delim = ";") %>%
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest() %>%
filter(region %in% main_regions)
region_tmp <- regional_dists %>%
inner_join(region_df, by = "town") %>%
select(region, district)
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
# regional_dists <- read_delim("../../../_utils/regional_school_dists.tsv", delim = ";") %>%
regional_dists <- here::here("_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
# regional_dists <- read_delim("../../../_utils/regional_school_dists.tsv", delim = ";") %>%
regional_dists <- here::here("../_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
# regional_dists <- read_delim("../../../_utils/regional_school_dists.tsv", delim = ";") %>%
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest() %>%
filter(region %in% main_regions)
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
source(here("edsight","_utils","geographies.R"))
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
regional_dists <- read_delim(here("edsight/_utils/regional_school_dists.tsv"), delim = ";")
regional_dists <- here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest() %>%
filter(regions$region %in% main_regions)
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest()
region_df
region_df <- region_df %>%
filter(region_df$region %in% main_regions)
region_df
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest()
region_df
region_df$region %in% main_regions
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
main_regions <- c("Connecticut", "Fairfield County", "Lower Naugatuck Valley", "Greater Hartford", "Hartford Inner Ring", "Hartford Outer Ring", "Greater New Haven", "New Haven Inner Ring", "New Haven Outer Ring")
main_regions <- c(main_regions, "6 wealthiest Fairfield County", "Greater Waterbury")
regional_dists <- here::here("_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
regional_dists
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest() %>%
filter(region %in% main_regions)
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
regional_dists
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest()
region_df
cwi::regions
cwi::regions %>%
enframe(name = "region", value = "town")
cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest()
cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest() %>%
filter(region %in% main_regions)
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest()
region_df <- region_df %>%
filter(region %in% main_regions)
region_df
regional_dists <- here::here("edsight/_utils/regional_school_dists.tsv") %>%
read_delim(delim = ";") %>%
separate_rows(towns, sep = ",") %>%
mutate(district = str_pad(district, width = 2, side = "left", pad = "0") %>%
paste("Regional School District", .)) %>%
rename(town = towns)
region_df <- cwi::regions %>%
enframe(name = "region", value = "town") %>%
unnest()
region_df
region_df <- region_df %>%
filter(region %in% main_regions)
colnames(region_df)
region_df <- region_df %>%
dplyr::filter(region %in% main_regions)
region_df
source("../_utils/edsight_functions.R")
school_dists
school_dists %>%
filter(region == "New Haven Inner Ring" || "New Haven Outer Ring")
school_dists
school_dists %>%
as.data.frame
school_dists %>%
as.data.frame %>%
as_tibble %>%
filter(region == "New Haven Inner Ring" || "New Haven Outer Ring")
school_dists %>%
as.data.frame %>%
as_tibble %>%
filter(region == "New Haven Inner Ring" || region == "New Haven Outer Ring")
school_dists %>%
as.data.frame %>%
as_tibble %>%
filter(region == "New Haven Inner Ring" || region == "New Haven Outer Ring")
school_dists %>%
as.data.frame %>%
filter(region == "New Haven Inner Ring" || region == "New Haven Outer Ring")
region
school_dists
colnames(school_dists)
school_dists %>%
as.data.frame %>%
dplyr::filter(region == "New Haven Inner Ring" || region == "New Haven Outer Ring")
school_dists %>%
dplyr::filter(region == "New Haven Inner Ring" || region == "New Haven Outer Ring")
school_dists
school_dists %>%
dplyr::filter(region == "New Haven Inner Ring")
dplyr::filter(region == c("New Haven Inner Ring", "New Haven Outer Ring")
school_dists %>%
colnames(school_dists)
school_dists %>%
dplyr::filter(region == c("New Haven Inner Ring", "New Haven Outer Ring"))
school_dists %>%
dplyr::filter("New Haven" %in% region)
school_dists %>%
dplyr::filter("New Haven" %in% region)
